---
interface Props {
  title: string;
  description: string;
  icon?: string;
  tags?: string[];
  href?: string;
  image?: string;
  featured?: boolean;
}

const { title, description, icon, tags, href, image, featured = false } = Astro.props;
---

<article
  class={`group card-hover rounded-xl border transition-all duration-300 ${
    featured
      ? 'border-ember-500/50 bg-gradient-to-br from-slate-900/50 to-slate-950/50 p-8 lg:col-span-2'
      : 'border-slate-800 bg-slate-900/30 p-6 hover:border-ember-500/30'
  }`}
  data-animate
>
  <!-- Image (if provided) -->
  {
    image && (
      <div class="mb-4 h-40 rounded-lg overflow-hidden bg-slate-800">
        <img
          src={image}
          alt={title}
          class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
        />
      </div>
    )
  }

  <!-- Header -->
  <div class="flex items-start justify-between gap-4 mb-3">
    <div>
      {icon && <span class="text-3xl mb-2 block">{icon}</span>}
      <h3 class="text-lg md:text-xl font-bold text-slate-100 group-hover:text-ember-400 transition-colors">
        {href ? <a href={href}>{title}</a> : title}
      </h3>
    </div>
  </div>

  <!-- Description -->
  <p class="text-slate-400 text-sm md:text-base mb-4 leading-relaxed">
    {description}
  </p>

  <!-- Tags -->
  {
    tags && tags.length > 0 && (
      <div class="flex flex-wrap gap-2 mb-4">
        {tags.map((tag) => (
          <span class="inline-block px-3 py-1 text-xs font-medium rounded-full bg-ember-600/10 text-ember-400 border border-ember-500/20">
            {tag}
          </span>
        ))}
      </div>
    )
  }

  <!-- Link indicator -->
  {
    href && (
      <div class="flex items-center gap-2 text-ember-400 text-sm font-semibold group-hover:gap-3 transition-all">
        Learn more
        <svg
          class="w-4 h-4 group-hover:translate-x-1 transition-transform"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M13 7l5 5m0 0l-5 5m5-5H6"
          >
          </path>
        </svg>
      </div>
    )
  }
</article>
